{{ define "main" }}
{{ $logo := resources.Get "image/logo.svg" }}
{{ $illustortar := resources.Get "image/1.svg" }}
{{ $illustortarLe := resources.Get "image/2.svg" }}
{{ $illustortarC := resources.Get "image/3.svg" }}
{{ $video := resources.Get "image/example2.webm" }}
{{ $webtype := .Site.Params.webtype }} <!-- è·å–ç«™ç‚¹é…ç½®ä¸­çš„ webtype -->



<!-- official å®˜ç½‘é£æ ¼ -->
{{ if eq $webtype "official" }}
{{ $context := dict
"Title" .Params.Title
"Nation" .Params.Nation
"Addr" .Params.addr
"Image" .Params.Image
}}
{{ partial "official-banner.html" $context }}

{{ range sort (where .Site.RegularPages "Params.position" "eq" "home") "Params.weight" }}
{{ $context := dict
"Title" .Params.Title
"Nation" .Params.Nation
"Addr" .Params.addr
"Image" .Params.Image
"publicDate" .Params.publicDate
"Tags" .Params.tags
"Illustortar" $illustortar.Permalink
"IllustortarLe" $illustortarLe.Permalink
"IllustortarC" $illustortarC.Permalink
"Permalink" .Permalink
"Logo" $logo.Permalink
"Can" .Params.can
"Partnership" .Params.partnership
"Company" .Params.company
"Companylist" .Params.companylist
"Message" .Params.message
"Type" .Params.Type
"Image" .Params.Image
"YouTube" .Params.youtube
"Bilibili" .Params.bilibili
"Desc" .Params.desc
"Weight" .Params.weight
"Video" $video.RelPermalink
}}
{{ partial "official-list.html" $context }}
{{ end }}
{{ end }}



<!-- Blog åšå®¢é£æ ¼-->
{{ if eq $webtype "blog" }}
<div class="blog">
  <h1>ğŸ“š ä¸“å±å†…å®¹</h1>
  <div class="blog-box">
    {{ range sort (where (where .Site.RegularPages "Section" "posts") "Params.category" "intersect" (slice "æˆæƒ"))
    ".Params.index" "asc" }}
    {{ if eq .Params.position "home" }}
    {{ $context := dict
    "Title" .Title
    "Tags" .Params.tags
    "Position" .Params.position
    "Sitetitle" .Site.Title
    "Permalink" .Permalink
    "Date" .Date
    "Type" .Params.type
    "Image" .Params.image
    "YouTube" .Params.youtube
    "Bilibili" .Params.bilibili
    "Desc" .Params.description
    "Weight" .Params.weight
    "Index" .Params.index
    }}
    {{ partial "blog.html" $context }}
    {{ end }}
    {{ end }}
  </div>

  <h1>ğŸ“œ æˆ‘çš„æ—¥å¿—</h1>
  <div class="blog-box">
    {{ range sort (where (where .Site.RegularPages "Section" "posts") "Params.position" "eq" "home") ".Params.weight"
    "asc" }}
    {{/* åˆ¤æ–­ category æ•°ç»„æ˜¯å¦ä¸åŒ…å« "æˆæƒ" */}}
    {{ if not (in .Params.category "æˆæƒ") }}
    {{ $context := dict
    "Title" .Title
    "Tags" .Params.tags
    "Position" .Params.position
    "Sitetitle" .Site.Title
    "Permalink" .Permalink
    "Date" .Date
    "Type" .Params.type
    "Image" .Params.image
    "YouTube" .Params.youtube
    "Bilibili" .Params.bilibili
    "Desc" .Params.description
    "Weight" .Params.weight
    }}
    {{ partial "blog.html" $context }}
    {{ end }}
    {{ end }}
  </div>

  {{ partial "blog-banner.html" . }}
  {{ partial "social.html" . }}
</div>
{{ end }}



<div>
  {{ range first 10 .Site.RegularPages }}
  {{ .Render "summary" }}
  {{ end }}
</div>
{{ end }}