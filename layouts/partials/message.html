
<!-- 联系我们 -->
<section id="contact" class="section-padding bg-primary text-white">
  <div class="container mx-auto px-4 sm:px-6 lg:px-8">
    <div class="text-center mb-16">
      <h2 class="text-[clamp(1.5rem,3vw,2.5rem)] font-bold mb-4">评论与留言</h2>
      <p class="text-gray-300 max-w-2xl mx-auto text-lg">
        如有任何疑问或合作意向，欢迎随时联系我们，我们将尽快回复您
      </p>
    </div>

    <div class="flex flex-col lg:flex-row gap-12">
      <div class="lg:w-1/2">
        <form id="contactForm" class="space-y-6">
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div>
              <label for="name" class="block text-sm font-medium mb-2">姓名</label>
              <input type="text" id="name"
                class="w-full px-4 py-3 rounded-md bg-white/10 border border-white/20 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-secondary">
            </div>
            <div>
              <label for="name" class="block text-sm font-medium mb-2">邮件 * </label>
              <input type="text" id="email"
                class="w-full px-4 py-3 rounded-md bg-white/10 border border-white/20 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-secondary">
            </div>

          </div>

          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div>
              <label for="phone" class="block text-sm font-medium mb-2">电话 *</label>
              <input type="tel" id="phone"
                class="w-full px-4 py-3 rounded-md bg-white/10 border border-white/20 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-secondary">
              <p id="phoneError" class="text-red-400 text-sm hidden mt-1">请输入有效的电话</p>
            </div>
                        <div>
            <label for="company" class="block text-sm font-medium mb-2">公司名称</label>
            <input type="text" id="company"
              class="w-full px-4 py-3 rounded-md bg-white/10 border border-white/20 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-secondary">
          </div>
          </div>

          <div>
            <label for="interest" class="block text-sm font-medium mb-2">感兴趣的服务</label>
            <select id="interest"
              class="w-full px-4 py-3 rounded-md bg-white/10 border border-white/20 text-white focus:outline-none focus:ring-2 focus:ring-secondary">
              <option value="">请选择</option>
              <option value="advertising">广告投放</option>
              <option value="social-media">社交媒体营销</option>
              <option value="integrated">整合营销方案</option>
              <option value="other">其他服务</option>
            </select>
          </div>

          <div>
            <label for="message" class="block text-sm font-medium mb-2">留言 *</label>
            <textarea id="message" rows="4"
              class="w-full px-4 py-3 rounded-md bg-white/10 border border-white/20 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-secondary"></textarea>
            <p id="messageError" class="text-red-400 text-sm hidden mt-1">请输入留言内容</p>
          </div>

          <button type="submit"
            class="w-full bg-secondary hover:bg-secondary/90 text-white font-medium py-3 px-6 rounded-md transition-all">
            提交咨询
          </button>
        </form>
      </div>

      <div class="lg:w-1/2 flex flex-col justify-center">
        <div class="space-y-8">
          <div class="flex items-start gap-4">
            <div
              class="w-12 h-12 bg-secondary/20 rounded-full flex items-center justify-center text-secondary text-xl mt-1">
              <i class="fa fa-map-marker"></i>
            </div>
            <div>
              <h3 class="text-xl font-bold mb-2">公司地址</h3>
              <p class="text-gray-300">
                上海市浦东新区张江高科技园区科苑路88号
              </p>
            </div>
          </div>

          <div class="flex items-start gap-4">
            <div
              class="w-12 h-12 bg-secondary/20 rounded-full flex items-center justify-center text-secondary text-xl mt-1">
              <i class="fa fa-phone"></i>
            </div>
            <div>
              <h3 class="text-xl font-bold mb-2">联系电话</h3>
              <!-- <p class="text-gray-300">
                400-888-9999
              </p> -->
              <p class="text-gray-400 text-sm mt-1">
                周一至周五 9:00-18:00
              </p>
            </div>
          </div>

          <div class="flex items-start gap-4">
            <div
              class="w-12 h-12 bg-secondary/20 rounded-full flex items-center justify-center text-secondary text-xl mt-1">
              <i class="fa fa-envelope"></i>
            </div>
            <div>
              <h3 class="text-xl font-bold mb-2">电子邮箱</h3>
              <p class="text-gray-300">
                aboutworks@outlook.com
              </p>
              <p class="text-gray-400 text-sm mt-1">
                我们将在24小时内回复您的邮件
              </p>
            </div>
          </div>
        </div>

        <div class="mt-12">
          <h3 class="text-xl font-bold mb-4">关注我们</h3>
          <div class="flex gap-4">
            <a href="#"
              class="w-10 h-10 bg-white/10 hover:bg-secondary rounded-full flex items-center justify-center text-white transition-colors">
              <i class="fa fa-weixin"></i>
            </a>
            <a href="#"
              class="w-10 h-10 bg-white/10 hover:bg-secondary rounded-full flex items-center justify-center text-white transition-colors">
              <i class="fa fa-weibo"></i>
            </a>
            <a href="#"
              class="w-10 h-10 bg-white/10 hover:bg-secondary rounded-full flex items-center justify-center text-white transition-colors">
              <i class="fa fa-linkedin"></i>
            </a>
            <a href="#"
              class="w-10 h-10 bg-white/10 hover:bg-secondary rounded-full flex items-center justify-center text-white transition-colors">
              <i class="fa fa-youtube-play"></i>
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>


<script>


  document.addEventListener('DOMContentLoaded', () => {
    const contactForm = document.getElementById('contactForm');
    if (!contactForm) return;

    const emailInput = document.getElementById('email');
    const phoneInput = document.getElementById('phone');
    const messageInput = document.getElementById('message');
    const phoneError = document.getElementById('phoneError');
    const messageError = document.getElementById('messageError');

    // 输入时清除错误提示
    phoneInput.addEventListener('input', () => phoneError.classList.add('hidden'));
    messageInput.addEventListener('input', () => messageError.classList.add('hidden'));

    // 表单提交处理
    contactForm.addEventListener('submit', async function (e) {
      e.preventDefault();
      let isValid = true;

      // 验证必填字段
      if (!phoneInput.value.trim()) {
        phoneError.classList.remove('hidden');
        isValid = false;
      } else {
        phoneError.classList.add('hidden');
      }

      if (!messageInput.value.trim()) {
        messageError.classList.remove('hidden');
        isValid = false;
      } else {
        messageError.classList.add('hidden');
      }

      if (!isValid) return;

      // 准备表单数据
      const formData = {
        name: document.getElementById('name').value.trim(),
        email: document.getElementById('email').value.trim(),
        phone: phoneInput.value.trim(),
        company: document.getElementById('company').value.trim(),
        interest: document.getElementById('interest').value,
        message: messageInput.value.trim(),
        origin: document.title || '网站咨询', // 可替代 {{ .Site.Title }}
      };

      const submitBtn = contactForm.querySelector('button[type="submit"]');
      submitBtn.disabled = true;
      submitBtn.textContent = '提交中...';

      try {
        const response = await fetch('https://handle.lehuye.com/users/postcontactus', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
            'authorization': 'keebone'
          },
          body: JSON.stringify(formData),
          mode: 'cors',
          credentials: 'include'
        });

        const result = await response.json();

        if (response.ok) {
          alert('咨询提交成功，我们将尽快与您联系！');
          contactForm.reset();
        } else {
          // 这里改成读取 error 字段
          throw new Error(result.error || '提交失败，请稍后重试');
        }
      } catch (error) {
        console.error('提交错误:', error);
        alert(error.message || '网络错误，请检查网络连接后重试');
      } finally {
        submitBtn.disabled = false;
        submitBtn.textContent = '提交咨询';
      }
    });
  });

</script>